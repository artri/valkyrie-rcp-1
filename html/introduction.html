<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Chapter&nbsp;1.&nbsp;Introduction</title><link rel="stylesheet" href="css/html.css" type="text/css"><meta name="generator" content="DocBook XSL-NS Stylesheets V1.75.2"><link rel="home" href="index.html" title="Valkyrie RCP Reference Guide"><link rel="up" href="index.html" title="Valkyrie RCP Reference Guide"><link rel="prev" href="pr01.html" title=""><link rel="next" href="basics.html" title="Chapter&nbsp;2.&nbsp;Basics"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div xmlns:fo="http://www.w3.org/1999/XSL/Format" id="top"><div id="header"><div class="projectlogo"><a href="./"><img class="logoImage" src="images/logo.png" alt="Springfuse" border="0"></a></div></div></div><div xmlns:fo="http://www.w3.org/1999/XSL/Format" class="mhSpacer"></div><div class="chapter" title="Chapter&nbsp;1.&nbsp;Introduction"><div class="titlepage"><div><div><h2 class="title"><a name="introduction"></a>Chapter&nbsp;1.&nbsp;Introduction</h2></div></div></div>
    

    

    <div class="section" title="1.1.&nbsp;Overview"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="introduction:overview"></a>1.1.&nbsp;Overview</h2></div></div></div>
        
        <p>
            Rich clients are becoming increasingly popular nowadays. A quick search through Google on "rich client framework
            java" returns over 200.000 results.
        </p>
        <p>
            These frameworks can be divided into 2 distinct categories:
        </p>
        <div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
                <p>
                    The Swing or SWT based frameworks, designed for out-of-browser applications, to be used with technologies like
                    Java Webstart.
                </p>
            </li><li class="listitem">
                <p>
                    The Rich Internet Application (RIA) frameworks, designed for providing a rich client experience within the
                    confines of a web browser (such as Mozilla or Internet Explorer).
                </p>
            </li></ul></div>
        <p>
            Today, RIA frameworks make up the bulk of the rich client frameworks on the market today. Among these you&#8217;ll find
            names like Flex, Google Web Toolkit, Ice Faces, &#8230; Their popularity is mainly caused by the ease of deployment: no
            installation is needed, almost every user already has a Web browser. If you look at them at an even wider angle,
            you&#8217;ll see that they&#8217;re edging closer each day to the spectrum of fully-fledged rich client applications. At that
            point, Swing&#8217;s only disadvantage will be the deployment issues. Due to the server-side nature of some frameworks,
            you&#8217;ll limit your capabilities more than when you&#8217;d be using a Swing-based framework.
        </p>
        <p>
            For Swing (or SWT) based application, the landscape is a bit different. There are only a handful of complete
            frameworks on the market:
        </p>
        <div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
                <p>
                    Eclipse RCP, the platform on which the Eclipse IDE has been built
                </p>
            </li><li class="listitem">
                <p>
                    Netbeans RCP, the platform on which the Netbeans IDE has been built
                </p>
            </li></ul></div>
        <p>
            These frameworks are complete platforms, which have proven themselves through their respective IDE&#8217;s to showcase
            their possibilities. However, these possibilities come at a steep cost. With Eclipse RCP, for example, you&#8217;ll be
            straying off the known Swing path and enter the world of SWT, and both don&#8217;t play well together. With Netbeans
            RCP, you&#8217;re mostly confined to the Netbeans IDE to do your development (that is, if you want to develop quickly).
        </p>
        <p>
            Both platforms can be quite cumbersome and come bundled with a complete package. It&#8217;s complexity can be
            overwhelming for a standard Swing developer and does not always promote effective, good programming style.
        </p>
        <p>
            The Valkyrie RCP framework does not promote itself as a complete platform. Instead, it provides developer a
            clear and easy way to build enterprise-class applications, without straying too far from the standard, well-known
            path, whilst ensuring enough flexibility to cope with the difficult issues coupled to the development of
            enterprise applications. Built on the strong foundations of the Spring Framework, it combines the best practices
            advocated by the Spring Framework with a component-based abstraction on top of Swing to ease development of Swing
            rich client applications.
        </p>
        <p>
            Valkyrie RCP was based on the work done in Spring Rich Client, but emphasizes the use of annotation based configuration.
            Spring 3.0 provides good support for annotation based configuration and Valkyrie uses these possibilities extensively.
        </p>
        <p>
            This introduction will try to cover as much ground as possible to let you hit the ground running when starting
            with a Valkyrie application.
        </p>
    </div>

    <div class="section" title="1.2.&nbsp;A quick dissection"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="introduction:dissection"></a>1.2.&nbsp;A quick dissection</h2></div></div></div>
        
        <div class="section" title="1.2.1.&nbsp;Anatomy of a rich client application"><div class="titlepage"><div><div><h3 class="title"><a name="introduction:anatomy"></a>1.2.1.&nbsp;Anatomy of a rich client application</h3></div></div></div>
            
            <p>
                A RCP application in its basic form is quite simple:
            </p>
            <div class="mediaobject"><img src="./images/simpleapp.png"></div>
            <p>
                An application consists of a application windows, which in most cases contains:
            </p>
            <div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
                    <p>
                        The main content pane
                    </p>
                </li><li class="listitem">
                    <p>
                        One or more navigational structures, such as a menu bar or a toolbar
                    </p>
                </li><li class="listitem">
                    <p>
                        A statusbar to show all sorts of messages to the user
                    </p>
                </li></ul></div>
            <p>
                These can be augmented with global search fields, help functions or other components that an application might
                require.
            </p>
        </div>
        <div class="section" title="1.2.2.&nbsp;Application windows"><div class="titlepage"><div><div><h3 class="title"><a name="introduction:appwindow"></a>1.2.2.&nbsp;Application windows</h3></div></div></div>
            
            <p>
                An application window is the foundation on which every rich client is built. Without an application window, you
                don&#8217;t have a place to put the components that make up your screens.
            </p>
            <p>
                In Valkyrie, the application window is represented by the ApplicationWindow class. The application
                window builds the visual window component and shows it to the user.
            </p>
            <p>
                Application windows are not created individually in Valkyrie. A factory pattern, called
                ApplicationWindowFactory handles instantiation of an application window. This way windows are created in a clear
                and uniform way throughout the application, without bothering the developer.
            </p>
            <p>
                In our simple example, you will not find this factory. Valkyrie does not need to have a
                ApplicationWindowFactory defined. If it is not configured, Valkyrie will fall back on a default
                implementation within the framework, consisting of a simple view area with a menubar, statusbar and toolbar.
            </p>
            <p>
                You can, however, define your own application factory. To do this, you just need to implement a
                ApplicationWindowFactory and override the applicationWindow method in your ApplicationConfig to return an instance
                of your new class. Valkyrie will pick up the class and use it instead of the default implementation.
            </p>
            <p>
                You can for example create an application window factory that leaves out the toolbar, but creates an
                outlook-like bar or task-pane oriented navigation on the left side instead. You can find an example of this in the
                dataeditor example.
            </p>
        </div>
        <div class="section" title="1.2.3.&nbsp;Views"><div class="titlepage"><div><div><h3 class="title"><a name="introduction:views"></a>1.2.3.&nbsp;Views</h3></div></div></div>
            
            <p>
                Application windows are containers for views. A view can be seen as an individual window representing a specific
                state within the application.
            </p>
            <p>
                Views are the main view area of your applications and will contain the bulk of the user interaction, unless
                you&#8217;ve chosen for a dialog-based approach. You can for example have a flow of views representing a process
                within your application, or a view containing a table which, when double-clicked, shows a detail of the selected
                item.
            </p>
            <p>
                In our first example, a view shows a HTML file together with a message from a resource bundle.
            </p>
            <p>
                Implementing a view is quite simple. When viewing the example view, you&#8217;ll see this:
            </p>
            <pre class="programlisting">public class InitialView extends AbstractView {
	// omitted for brevity...

	/**
     * Create the actual UI control for this view. It will be placed into the window according to the layout of
     * the page holding this view.
	 */
	protected JComponent createControl() {
		// In this view, we're just going to use standard Swing to place a
		// few controls.

		// The location of the text to display has been set as a Resource in the
		// property descriptionTextPath. So, use that resource to obtain a URL
		// and set that as the page for the text pane.

		JTextPane textPane = new JTextPane();
		JScrollPane spDescription = getComponentFactory().createScrollPane(textPane);
		try {
			textPane.setPage(getDescriptionTextPath().getURL());
		}
		catch (IOException e) {
			throw new RuntimeException("Unable to load description URL", e);
		}

		JLabel lblMessage = getComponentFactory().createLabel(getFirstMessage());
		lblMessage.setBorder(BorderFactory.createEmptyBorder(5, 0, 5, 0));

		JPanel panel = getComponentFactory().createPanel(new BorderLayout());
		panel.add(spDescription);
		panel.add(lblMessage, BorderLayout.SOUTH);

		return panel;
	}
}</pre>
            <p>
                AbstractView mandates that you implement the createControl method. This method can deliver any JComponent to
                show its contents. In most cases, this will be some sort of container or panel.
            </p>
        </div>
        <div class="section" title="1.2.4.&nbsp;Commands"><div class="titlepage"><div><div><h3 class="title"><a name="introduction:commands"></a>1.2.4.&nbsp;Commands</h3></div></div></div>
            
            <p>
                The entire menu bar system and derived navigational structures are command based. In essence, this means you&#8217;ll
                never make a JMenu or JMenuItem manually again. Ever. Simply put, you&#8217;ll create a command, which contains code
                that needs to be executed (for example, change a view or print the current selected item). Valkyrie
                will handle the creation of the visual components and couple the command behavior to the visual component&#8217;s
                behavior.
            </p>
            <p>
                In Valkyrie, the command context is a separate context that needs to be defined in the main
                application context lifecycle.
            </p>
            <p>
                In our example, the command configuration looks like this:
            </p>
            <pre class="programlisting">@Configuration
public class SimpleSampleCommandConfig extends AbstractCommandConfig {

    @Bean
    @Qualifier("menubar")
    public CommandGroup menuBarCommandGroup() {
        CommandGroupFactoryBean menuFactory = new CommandGroupFactoryBean();
        menuFactory.setGroupId("menu");
        return menuFactory.getCommandGroup();
    }

    @Bean
    @Qualifier("toolbar")
    public CommandGroup toolBarCommandGroup() {
        CommandGroupFactoryBean toolbarFactory = new CommandGroupFactoryBean();
        toolbarFactory.setGroupId("toolbar");
        return toolbarFactory.getCommandGroup();
    }
}</pre>
            <p>
                A basic command context expects the configuration of a toolbar and a menubar. Commands can be added to those bars.
            </p>
        </div>
        <div class="section" title="1.2.5.&nbsp;Messages and icons"><div class="titlepage"><div><div><h3 class="title"><a name="introduction:messages"></a>1.2.5.&nbsp;Messages and icons</h3></div></div></div>
            
            <p>
                Internationalizing your application can be quite an important part of your work, and sometimes also one of the
                most time-consuming too.
            </p>
            <p>
                Valkyrie supports internationalization through resource bundles defined in the application context
                (see the messageSource bean). For example, Valkyrie provides a mechanism to set the title of your
                application through the application descriptor. If you set the key applicationDescriptor.title to some value,
                that value will show up as the title of your application. Messages are found through a MessageSource
                implementation, for which the resource bundle implementation is perhaps the most widely used.
            </p>
            <p>
                The same is true for application icons and images in general. The key applicationDescriptor.icon sets the
                application&#8217;s icon. Like messages, the images are found through an ImageSource, which contains property files
                with the keys and the images that go with the keys, and the location where the images can be found (in the jar
                for example, or somewhere else).
            </p>
        </div>
        <div class="section" title="1.2.6.&nbsp;Other components"><div class="titlepage"><div><div><h3 class="title"><a name="introduction:other"></a>1.2.6.&nbsp;Other components</h3></div></div></div>
            
            <p>
                Valkyrie also contains other components to make rich client programming easier. A form framework that
                handles easy form creation, undo functionality and validation. Exception handling to show visually attractive
                messages when your application goes down the drain. A wizard framework to make data input for the
                not-so-tech-savvy users simpler and much more.
            </p>
            <p>
                We&#8217;ll discuss these in detail later.
            </p>
        </div>
    </div>
</div><div xmlns:fo="http://www.w3.org/1999/XSL/Format" class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="pr01.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="basics.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">&nbsp;</td><td width="20%" align="center"><span style="color:white;font-size:85%;"><a href="http://www.gitorious.com/valkyrie-rcp" title="Valkyrie framework">Valkyrie</a></span></td><td width="40%" align="right" valign="top">&nbsp;Chapter&nbsp;2.&nbsp;Basics</td></tr></table></div></body></html>